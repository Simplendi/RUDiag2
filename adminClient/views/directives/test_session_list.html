<div>
    <a href="" class="btn btn-default" ng-click="add()">Add</a>
    <a href="" class="btn btn-default" ng-click="loadTestSessions()">Refresh</a>
    <a href="" class="btn btn-default" ng-click="import()">Import</a>
    <a href="/test_session/{{test.id}}/export" target="_blank" class="btn btn-default">Export</a>
<table class="table">
    <thead>
    <tr>
        <th class="col-md-3">Email</th>
        <th class="col-md-3">Name</th>
        <th class="col-md-2">Student-ID</th>
        <th class="col-md-1">Status</th>
        <th class="col-md-3">Action</th>
    </tr>
    </thead>
    <tbody ng-if="!loading">
    <tr ng-repeat="test_session in test_sessions | filter:{$: search}">
        <td>{{test_session.email}}</td>
        <td>{{test_session.name}}</td>
        <td>{{test_session.student_id}}</td>
        <td>{{getTestSessionStatus(test_session)}}</td>
        <td>
            <a href="" class="btn btn-default" ng-click="edit($index)">Edit</a>
            <a href="" class="btn btn-default" ng-if="test.type=='basic'" ng-click="review($index)">Review</a>
            <a href="{{test_session.invite_url}}" target="_blank" class="btn btn-default" ng-if="test.type=='tree'">Review</a>
            <a href="" class="btn btn-default" ng-click="delete($index)">Delete</a>
            <a href="" class="btn btn-default" ng-if="test_session.closed_at==null && test.opened_at!=null && test.closed_at==null" ng-click="sendInvite(test_session.id)">Send invite</a>
            <a href="" class="btn btn-default" ng-if="test_session.reviewed_at!=null" ng-click="sendFeedback(test_session.id)">Send feedback</a>

        </td>
    </tr>
    </tbody>
    <tbody ng-if="loading">
    <tr>
        <td colspan="5">Loading...</td>
    </tr>
    </tbody>

</table>
</div>